<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Wind Rose Tech Demo</title>
        <style>


            body {
                background-color : rgb(44,44,44);
            }

            title {
                stroke: black;
            }

            .axis-canvas {
                fill:rgb(89, 89, 89);
            }

            #chart-container-1 {
                display: inline-block;
                width: 400px;
                height: 400px;
            }

            #chart-container-2 {
                display: inline-block;
                width: 400px;
                height: 400px;
            }

            #polar-dot {
                fill: #999999;
                stroke: white;
            }

            #polar-line { fill: none; stroke: white; }

            #cartesian-dot { fill: #999999; stroke: white; }

            #cartesian-line { fill: none; stroke: white; }

            /* .tooltip { background: #eee;
            box-shadow: 0 0 5px #999999;
            color: #333;
            display: none;
            font-size: 12px;
            left: 130px;
            padding: 10px;
            position: absolute;
            text-align: center;
            top: 95px;
            width: 80px;
            z-index: 10; } */

            div.tooltip { position: absolute; text-align: center; width: 60px; height: 28px; padding: 2px; font: 12px sans-serif; background:
lightgray; border: 0px; border-radius: 8px; pointer-events: none; }

        </style>
        <script src="https://d3js.org/d3.v4.min.js"></script>
        <link rel="stylesheet" href="/dist/wb-charts.css">
    </head>
    <body>

        <div id="chart-container-1"></div>
        <div id="chart-container-2"></div>
        <div>
        <input id="slider" type="range" name="points" min="0" max="10">
        </div>
        <script src="/dist/wb-charts.umd.js"></script>
        <script type="text/javascript">
        function randomSpectrum(a) {
    var spectrum = [];
    for (var i = 0; i < 50; i++) {
        spectrum.push({ x: 50 + i * 100, y: a * d3.randomUniform()() });
    }
    return spectrum;
}
// set constants
var container1 = document.getElementById("chart-container-1");
var polarAxis = new wbCharts.PolarAxis(container1, null, null,  { angular: { direction: wbCharts.CLOCKWISE, }, innerRadius: 40 });
var polarData = [
    [
        { x: [1, 2], y: [35, 85], v: 0 },
        { x: [2, 3], y: [30, 75], v: 0.5 },
        { x: [3, 4], y: [40, 65], v: 1 },
        { x: [4, 5], y: [50, 95], v: 2 },
        { x: [5, 6], y: [45, 90], v: 0.5 },
        { x: [6, 7], y: [-10, 15], v: 0 }
    ],
    [
        { x: [.1, .2], y: [15, 75], v: 0 },
        { x: [.2, .3], y: [10, 85], v: 7.5 },
        { x: [.3, .4], y: [10, 85], v: 8.5 },
        { x: [.4, .5], y: [10, 85], v: 10 },
        { x: [.5, .6], y: [15, 80], v: 10.5 },
    ]
];
var plot = new wbCharts.ChartRange(polarData[0], {colorScale: wbCharts.AUTO_SCALE});
var random = [];
for (var i = 0; i < 100; i++) {
    random.push({ x: d3.randomUniform(0, 1)(), y: d3.randomUniform(0, 360)() });
}
var a = 0;
var b = 1 / 1440;
var archimedeanSpiral = [];
for (var i = 0; i <= 1440; i += 5) {
    archimedeanSpiral.push({ x: a + b * i, y: i % 360 });
}
var plot2 = new wbCharts.ChartMarker(random, {});
var plot3 = new wbCharts.ChartLine(archimedeanSpiral, {});
var spectra = randomSpectrum(1);
var plot4 = new wbCharts.ChartHistogram(spectra, { colorScale: wbCharts.AUTO_SCALE });
var plot5 = new wbCharts.ChartLine(spectra, {});
plot.addTo(polarAxis, { rkey: "x", tkey: "y", colorkey: 'v' });
// plot2.addTo(polaraxis, { rkey: "x", tkey: "y" }, 'polar-dot')
// plot3.addTo(polaraxis, { rkey: "x", tkey: "y" }, 'polar-line')
var container2 = document.getElementById("chart-container-2");
var axis = new wbCharts.CartesianAxis(container2, 400, height, {});
// plot.addTo(axis, {xkey : "y", ykey: "x", colorkey: 'v' })
// plot2.addTo(axis, { xkey: "y", ykey: "x"}, 'cartesian-dot')
// plot3.addTo(axis, { xkey: "y", ykey: "x" }, 'cartesian-line')
plot4.addTo(axis, { xkey: "x", ykey: "y", colorkey: "y" }, '#cartesian-histogram');
// plot5.addTo(axis, { xkey: "x", ykey: "y", colorkey: "y" }, 'cartesian-line')
axis.redraw()
polarAxis.redraw()
var count = 0;
var updateCharts = function (event) {
    var newData = randomSpectrum(count + 1);
    plot4.data = newData;
    axis.redraw();
    count++;
    plot.data = polarData[count % 2];
    polarAxis.redraw();
};
var input = document.getElementById("slider");
input.onchange = function (event) { updateCharts(event); };


        </script>

    </body>
</html>
